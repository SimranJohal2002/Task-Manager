<!DOCTYPE html>
<html>
  <head>
    <title>Register for <%=appName%></title>
    <link rel="stylesheet" type="text/css" href="/main.css" />
  </head>
  <body>
    <h1>Register for <%=appName%></h1>
    <form method="POST" action="/registered" onsubmit="return validateForm()">
      <p>
        First name:
        <input id="first" type="text" name="first" placeholder="First Name" />
      </p>
      <p>
        Last name:
        <input id="last" type="text" name="last" placeholder="Last Name" />
      </p>
      <p>
        Email:
        <input id="email" type="email" name="email" placeholder="Email" pattern="[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}" />
      </p>
      <p>
        Username:
        <input
          id="username"
          type="text"
          name="username"
          placeholder="Username"
        />
      </p>
      <p>
        Password:
        <input
          id="password"
          type="password"
          name="password"
          placeholder="Password"
        />
      </p>
      <input type="submit" value="Register" />
    </form>

    <button onclick="goToHomePage()">Go to Home Page</button>

    <script>
      function validateForm() {
        var firstName = document.getElementById('first').value;
        var lastName = document.getElementById('last').value;
        var email = document.getElementById('email').value;
        var username = document.getElementById('username').value;
        var password = document.getElementById('password').value;

        if (!firstName || !lastName || !email || !username || !password) {
          alert('Please fill in all the fields');
          return false;
        }

        if (!isValidEmail(email)) {
          alert('Please enter a valid email address');
          return false;
        }

        return true;
      }

      function isValidEmail(email) {
        // Use a regular expression for basic email validation
        var emailRegex = /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;
        return emailRegex.test(email);
      }

      function goToHomePage() {
        window.location.href = '/';
      }
    </script>
  </body>
</html>